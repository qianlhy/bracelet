sky:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    host: localhost
    port: 3306
    database: diy_bangle
    username: root
    password: 123456
  alioss:
#    endpoint: oss-cn-beijing.aliyuncs.com
#    bucket-name: my-tang-big-event
  wxcloud:
    storage:
      bucket-name: 7072-prod-6gf1u2dc2e9e4f49-1391651365
      region: ap-shanghai
  redis:
    host: localhost
    port: 6379
    password:
    database: 0
  wechat:
    # ==================== 微信支付配置说明 ====================
    # 配置获取指引：https://pay.weixin.qq.com/index.php/core/account/info
    
    # ---------- 基础配置 ----------
    # appid: 小程序或公众号的AppID
    # 获取路径：微信公众平台 -> 开发 -> 开发设置 -> 开发者ID(AppID)
    appid: wxcfa41f1d1bc716a8
    
    # secret: 小程序或公众号的AppSecret
    # 获取路径：微信公众平台 -> 开发 -> 开发设置 -> 开发者密码(AppSecret)
    secret: 18166e4cdca2a2d1fbfa2fa4db1f6bf4
    
    # mchid: 微信支付商户号
    # 获取路径：微信支付商户平台 -> 账户中心 -> 商户信息 -> 商户号
    mchid: 1734348120
    
    # ---------- 商户API证书配置（用于商户请求签名）----------
    # mchSerialNo: 商户API证书序列号
    # 获取路径：微信支付商户平台 -> 账户中心 -> API安全 -> API证书 -> 查看证书
    # 格式要求：纯十六进制字符串（大写字母+数字）
    mchSerialNo: 5631D4B837843E6E770BE80D00AFC8B86B38A97B
    
    # privateKeyFilePath: 商户私钥文件路径（apiclient_key.pem）
    # 获取方式：微信支付商户平台 -> 账户中心 -> API安全 -> 申请API证书 -> 下载证书
    # 说明：证书文件已放在项目 certs 文件夹中，包含apiclient_key.pem、apiclient_cert.pem、apiclient_cert.p12
    # 本地开发：使用本地绝对路径（如 E:/code/xxx/apiclient_key.pem）
    # Docker部署：使用容器内路径（/app/certs/apiclient_key.pem）
    privateKeyFilePath: E:/code/BraceletUniapp(1)/diy-bracelet-backend-code/certs/apiclient_key.pem
    
    # ---------- APIv3密钥配置（用于敏感信息加解密）----------
    # apiV3Key: APIv3密钥（32位字符串）
    # 获取/设置路径：微信支付商户平台 -> 账户中心 -> API安全 -> APIv3密钥 -> 设置密钥
    # 重要说明：
    #   1. 这是32位的字符串密钥，用于AES-256-GCM加密算法
    #   2. 不是公钥ID！公钥ID格式类似：PUB_KEY_ID_xxxxxx
    #   3. 首次使用需要在商户平台手动设置，设置后请妥善保管
    #   4. 用于回调通知的解密（如支付成功通知、退款通知等）
    # 示例格式：YourAPIv3Key32CharactersLong12
    # 当前值请替换为您在商户平台设置的真实32位APIv3密钥
    apiV3Key: 12345678910111213141516171819202
    
    # ---------- 微信支付公钥配置（公钥验签方式）----------
    # 使用微信支付公钥验签，不需要下载平台证书
    weChatPayPublicKeyId: PUB_KEY_ID_0117343481202025120300381767000202
    # 本地开发：使用本地绝对路径（如 E:/code/xxx/pub_key.pem）
    # Docker部署：使用容器内路径（/app/certs/pub_key.pem）
    weChatPayPublicKeyPath: E:/code/BraceletUniapp(1)/diy-bracelet-backend-code/certs/pub_key.pem

    notifyUrl: http://5085a73.r18.vip.cpolar.cn/notify/paySuccess
    
    # refundNotifyUrl: 退款成功回调地址（必须是公网可访问的URL）
    # 格式：http(s)://域名/notify/refundSuccess
    refundNotifyUrl: http://5085a73.r18.vip.cpolar.cn/notify/refundSuccess
    
    # ==================== 配置检查清单 ====================
    # □ 1. appid 和 secret 已从微信公众平台获取
    # □ 2. mchid 商户号已确认
    # □ 3. 商户API证书已下载并放在 certs 目录（apiclient_key.pem、apiclient_cert.pem）
    # □ 4. mchSerialNo 证书序列号已从商户平台复制
    # □ 5. apiV3Key 已在商户平台设置，并替换为真实的32位密钥
    # □ 6. 微信支付公钥已申请下载（推荐，用于新版验签）
    # □ 7. 回调URL已配置为公网可访问地址（开发环境使用内网穿透）
    # 
    # 相关文档：
    # - 微信支付开发文档：https://pay.weixin.qq.com/wiki/doc/apiv3/index.shtml
    # - 微信支付公钥说明：https://pay.weixin.qq.com/doc/v3/merchant/4012925323
    # - 如何使用公钥验签：https://pay.weixin.qq.com/doc/v3/merchant/4013053249

dev:
  # 已手动实现微信支付公钥验签功能
  # 使用pub_key.pem进行响应验签和回调验签
  # 关闭模拟支付，启用真实支付
  mock-payment: false

local:
  file:
    base-path: E:/code/diy-bangle/uploads